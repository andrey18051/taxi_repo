Bash# 1. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ Zookeeper Ð² --network host
docker stop root-zookeeper-1 && docker rm root-zookeeper-1

docker run -d --restart unless-stopped --name root-zookeeper-1 --network host \
  -e ZOOKEEPER_CLIENT_PORT=2181 \
  -e ZOOKEEPER_TICK_TIME=2000 \
  confluentinc/cp-zookeeper:7.3.0
Bash# 2. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ Ð±Ñ€Ð¾ÐºÐµÑ€ (Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð¾Ð½ ÑƒÐ²Ð¸Ð´Ð¸Ñ‚ Zookeeper)
docker stop kafka-fixed && docker rm kafka-fixed

docker run -d --restart unless-stopped --name kafka-fixed --network host \
  -e KAFKA_BROKER_ID=1 \
  -e KAFKA_ZOOKEEPER_CONNECT=127.0.0.1:2181 \
  -e KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092 \
  -e KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://127.0.0.1:9092 \
  -e KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1 \
  confluentinc/cp-kafka:7.3.0
Bash# 3. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ REST Proxy
docker stop kafka-rest && docker rm kafka-rest

docker run -d --restart unless-stopped --name kafka-rest --network host \
  -e KAFKA_REST_HOST_NAME=localhost \
  -e KAFKA_REST_LISTENERS=http://0.0.0.0:8082 \
  -e KAFKA_REST_BOOTSTRAP_SERVERS=127.0.0.1:9092 \
  -e KAFKA_REST_CONSUMER_ENABLE=true \
  confluentinc/cp-kafka-rest:7.6.0

  ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°
âžœ  ~ curl -s http://127.0.0.1:8082/topics
["cost-topic-my-api","cost-topic"]#

âžœ  ~ docker exec taxi_test php artisan kafka:consume --timeout=10
ðŸ”„ Ð—Ð°Ð¿ÑƒÑ‰ÐµÐ½Ð¾ Ð¿Ð¾ÑÑ‚Ð¾ÑÐ½Ð½Ð¾Ðµ Ð½Ð°Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ðµ Ð·Ð° Ñ‚Ð¾Ð¿Ð¸ÐºÐ°Ð¼Ð¸: cost-topic, cost-topic-my-api
â±ï¸ Ð¢Ð°Ð¹Ð¼Ð°ÑƒÑ‚ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½: 10 ÑÐµÐºÑƒÐ½Ð´

ðŸ” Ð˜Ñ‚ÐµÑ€Ð°Ñ†Ð¸Ñ #1 - 2025-12-12 15:45:55
ðŸ“­ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ‚Ð¾Ð¿Ð¸ÐºÐ°: cost-topic
ðŸ“­ Ð’ Ñ‚Ð¾Ð¿Ð¸ÐºÐµ cost-topic Ð½ÐµÑ‚ Ð½Ð¾Ð²Ñ‹Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
ðŸ“­ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ‚Ð¾Ð¿Ð¸ÐºÐ°: cost-topic-my-api
ðŸ“­ Ð’ Ñ‚Ð¾Ð¿Ð¸ÐºÐµ cost-topic-my-api Ð½ÐµÑ‚ Ð½Ð¾Ð²Ñ‹Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
â³ ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ 3 ÑÐµÐºÑƒÐ½Ð´ Ð´Ð¾ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸...

ðŸ” Ð˜Ñ‚ÐµÑ€Ð°Ñ†Ð¸Ñ #2 - 2025-12-12 15:46:04
ðŸ“­ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ‚Ð¾Ð¿Ð¸ÐºÐ°: cost-topic
ðŸ“­ Ð’ Ñ‚Ð¾Ð¿Ð¸ÐºÐµ cost-topic Ð½ÐµÑ‚ Ð½Ð¾Ð²Ñ‹Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹
ðŸ“­ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ‚Ð¾Ð¿Ð¸ÐºÐ°: cost-topic-my-api

CONTAINER ID   IMAGE                               COMMAND                  CREATED          STATUS          PORTS                                       NAMES
3c45504b6037   confluentinc/cp-kafka-rest:7.6.0    "/etc/confluent/dockâ€¦"   7 minutes ago    Up 7 minutes                                                kafka-rest
18c556b56c5b   confluentinc/cp-kafka:7.3.0         "/etc/confluent/dockâ€¦"   8 minutes ago    Up 8 minutes                                                kafka-fixed
78659930fb0b   confluentinc/cp-zookeeper:7.3.0     "/etc/confluent/dockâ€¦"   8 minutes ago    Up 8 minutes                                                root-zookeeper-1
a2903ff19049   ghcr.io/andrey18051/taxi_test:1.0   "/usr/bin/supervisorâ€¦"   30 minutes ago   Up 30 minutes                                               taxi_test
7409f08687f1   ghcr.io/andrey18051/taxi_work:1.0   "/usr/bin/supervisorâ€¦"   4 days ago       Up 56 minutes                                               taxi_work
f1ca19aeacac   ghcr.io/andrey18051/taxi_ai:1.0     "uvicorn main:app --â€¦"   12 days ago      Up 12 days      0.0.0.0:8001->8001/tcp, :::8001->8001/tcp   taxi_ai
7d9d2b4a19eb   ghcr.io/andrey18051/office:1.0      "/entrypoint /usr/biâ€¦"   5 weeks ago      Up 12 days                                                  office
3eeccb7cd185   redis:alpine                        "docker-entrypoint.sâ€¦"   4 months ago     Up 12 days      0.0.0.0:6379->6379/tcp, :::6379->6379/tcp   redis_server
15f35a0ad7d8   ghcr.io/andrey18051/omp:1.0         "/usr/bin/supervisorâ€¦"   9 months ago     Up 12 days                                                  omp
