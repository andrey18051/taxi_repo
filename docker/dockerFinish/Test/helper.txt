https://github.com/settings/tokens

docker login ghcr.io -u andrey18051 -p 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

Базовый образ
cd D:\OpenServer\domains\taxi2012\docker\baseImageTest
docker build -t ghcr.io/andrey18051/taxi_laravel_8.83.29_test:base .


отправить в гит хаб
docker push ghcr.io/andrey18051/taxi_laravel_8.83.29_test:base

локальная проверка базовой установки Ларавель
docker pull ghcr.io/andrey18051/taxi_laravel_8.83.29_test:base
docker run --name taxi_test -d --network host ghcr.io/andrey18051/taxi_laravel_8.83.29_test:base
docker exec -it taxi_test bash
curl https://localhost

1. создать образ
copy D:\OpenServer\domains\taxi2012\docker\dockerFinish\Test\Dockerfile D:\OpenServer\domains\taxi2012
cd D:\OpenServer\domains\taxi2012

docker build -t  ghcr.io/andrey18051/taxi_test:1.0 .

2. отправить в гитхаб
docker push ghcr.io/andrey18051/taxi_test:1.0

3. скачать с гитхаба на сервере
docker pull ghcr.io/andrey18051/taxi_test:1.0

4. Собрать и запустить контейнер


docker stop taxi_test
docker rm taxi_test
docker run --name taxi_test -d --network host --restart unless-stopped ghcr.io/andrey18051/taxi_test:1.0


альтернативный автомат на сервере
./deploy_taxi_test.sh


зайти в контейнер
docker exec -it taxi_test bash

curl https://localhost:6443 --insecure
ps aux | grep cron
service cron status
cat /etc/cron.d/laravel-cron
ls -l /etc/cron.d/laravel-cron


просмотр служб супервизора
supervisorctl status

просмотр образов
docker images

просмотр контейнеров
docker ps
df -h


остановка контейнера (91- первые 2 цифры в CONTAINER ID)
docker stop 91

удаление контейнера (91- первые 2 цифры в CONTAINER ID)
docker rm 91


ps aux | grep nginx
просмотр служб супервизора
supervisorctl status



